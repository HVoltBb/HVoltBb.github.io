---
layout: default
title: random posts
DoMath: true
disqus-comments: true
---

<h2>Everything you need to know about FOV and IFOV</h2>
<p>For IR imaging at least, this post is all you ever need to know about FOV and IFOV. I have encountered three formulae to calculate IFOV, all of them different, giving you different answers. Obviously, there is at most one correct answer and two easy to calculate approximations. I will cut the crap that you will inevitably read about this topic from elsewhere and give you the definition, its formula based first principle and its two common approximations.</p>
<p>**Definition**: FOV is the maximum angle through which the *device* can pick up EM radiation.</p>
<p>Formula for FOV (from definition): $$FOV=2 atan(D/(2f))$$, where D is the length of the image plane in the direction of interest (horizontal or vertical) or the dimension of the detector array, all of which are equivalent here, f is the focal length of the lens, and atan() is the inverse function of tan().</p>
<p>Comments: Usually for a particular device, FOV is provided in the specs sheet. Rarely do you need to calculate it, but you can do so if you are interest and with this formula, you can calculate the size of your detector array, if your camera has one. This formula is derived based on similar triangles.</p>
<p>**Definition**: IFOV is the maximum angle through which *a single detecting element on the optical axis* can pick up EM radiation.</p>
<p>Formula 1 for IFOV (from definition): $$IFOV= 2 atan(d/(2f))$$, where additionally d is the length of a single detecting element in the direction of interest.</p>
<p>Formula 2 for IFOV: $$IFOV_2=d/f$$.</p>
<p>Formula 3 for IFOV: $$IFOV_3=FOV/n$$, where additionally n is the number of detecting elements in the directin of interest.</p>
<p>Comments: Formula 1 is the one that should be used at all times, at least according to me. Formulae 2 and 3 are approximations, and they should be used when you don't have access to a calculator to do the atan() calculation, maybe 20 or 30 years ago when you don't have a smart phone with you at all times (This article is writen in 2020 for your reference). Their existence is only for historical reasons. You should know their existence and immediately forget about them. Again, formula 1 is derived based on similar triangles.</p>
<p>Formula 2 is numerically harmless, so to speak, due to the large number of elements in the sensor arrays and the close approximation of the tan() with a line. Formula 3 is, on the other hand, numerically harmful to you. The asusmption behind formula 3 is that the viewing angle for each element divide *equally* the FOV, but the fact is that they do divide FOV but in any *un-uniformal* manner. The viewing angle for each element can be different based on their position with respect to the one on the optical axis. Only the viewing angle for the element on the optical axis is defined as IFOV, and all the others are just viewing angles. IFOV is the largest of all these angles due to the natural perspective of distance objects. So, the consequence of use formula 3 is that $$IFOV_3 < IFOV$$, and for wide and normal angle lens, the difference can be substantial, and you may not have enough spatial resolution for objects not in the center of your image. If you need the readings for objects off center as well, forget about formula 3 now. Actural difference between $$IFOV_3$$ can be 5% less than the IFOV.</p>
<p>*Why are we only interested in the viewing angle of the central element and give it a name (IFOV)?* The answer is that the utility of IFOV is to calculate the spatial resolution for an object at a certain distance. The photographer is most likely to place the object on the optical axis of the camera, and the focal distance is conveniently measured on the optical axis. The spatial resolution of the central element at distance s is IFOV*s, easy, huh? Most importantly, the spatial resolution of other element at that distance is also IFOV*s due to similar trangles, even though the viewing angle for other elements are all smaller than the IFOV. So, the current definition is most convenient for its usage.</p>
